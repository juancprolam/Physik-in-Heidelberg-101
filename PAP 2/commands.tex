%%%%%%%%%%%%
% Packages %
%%%%%%%%%%%%

\usepackage[ngerman]{babel}         % Necessary for german Zeug
\usepackage[utf8]{inputenc}         %
\usepackage{graphicx}               % Better stuff for graphics
\usepackage{color}                  % Probably colors
\usepackage{colortbl}               % Colored tables
\usepackage{amsmath}                % Useful math
\usepackage{amssymb}                % Useful math
\usepackage{enumerate}              % Lists
\usepackage{enumitem}               % More lists
\usepackage{siunitx}                % Units
\usepackage{hyperref}               % Hyperlinks and references
\usepackage{pdfpages}               % Include pdfs, haven't used it
\usepackage{pgfplots}               % no idea
\usepackage{parskip}                % Formatting
\usepackage{verbatim}               % Quoting and stuff
\usepackage[normalem]{ulem}         % Underlining, why do I have most of these?
\usepackage{url}                    % Formatting links
\usepackage{mdframed}               % Boxes
\usepackage{lmodern}                % Pagestyle I think
\usepackage{physics}                % Physics amen
\usepackage{titlesec}               % Sections and so
\usepackage{bm}                     % Bold math
\usepackage{fancyhdr}               % Required for modifying headers and footers
\usepackage{multicol}               % Required for splitting text into multiple columns
\usepackage{glossaries}             % Glossary
\usepackage{lastpage}               % For page # of ##
\usepackage{stackengine}            % I think this is for stacking stuff
\usepackage{caption}                % captions inside minipages
\usepackage{newfloat}               % new types of caption environments
\usepackage{makecell}               % different sized table cells
\usepackage{float}                  % beating floats into submissiong
\usepackage{fancyvrb}               % fancy quotes

%%%%%%%%%%%%%%%%
% New commands %
%%%%%%%%%%%%%%%%

\newcommand{\ind}[0]{\ \ \ \ \ }                                        % Large space
\newcommand{\indd}[0]{\ind \ind}                                        % Doubly large space
\newcommand{\bbew}[0]{\Vert}                                            % Two vertical bars
\newcommand{\baro}[0]{\textcolor{lpurp}{| }}                            % Purple bar for comments
\newcommand{\arrowroa}[0]{\textcolor{lpurp}{\to}}                       % Arrow to right inside align
\newcommand{\diff}{\mathrm{\, d}}                                       % nice d but with space
\newcommand{\EQ}[0]{\mathrel{\stackon[1pt]{$=$}{$\scriptstyle!$}}}      % Must equal =!
\newcommand{\evalint}[3]{\bqty{#1}_{#2}^{#3}}                           % Evaluate integral within borders #2, #3    
\newcommand{\Lagr}[0]{\mathcal{L}}                                      % Lagrange
\newcommand{\dlagr}[0]{\mathscr{L}}                                     % Lagrangian            
\newcommand{\Ham}[0]{\mathcal{H}}                                       % Hamilton    
\newcommand{\Kam}[0]{\mathcal{K}}                                       % Kamilton
\newcommand{\e}[1]{\text{e}^{#1}}                                       % e
\renewcommand{\vec}[0]{\vb}                                             % Bold vectors
\newcommand{\limit}[2]{\lim\limits_{#1 \to #2}}                         % Limit
\newcommand{\summ}[2]{\sum\limits_{#1}^{#2}}                            % Sum
\newcommand{\ELG}[1]{\dv{}{t} \pdv{\Lagr}{\dot{#1}} - \pdv{\Lagr}{#1}}  % Euler-Lagrange
\newcommand{\ELGgen}[1]{\ds\dv{t} \ds\pdv{\dot{#1}} - \ds\pdv{#1}}      % Euler-Lagrange non specific
\def\tbs{\textbackslash}                                                % Backslash in text    
\newcommand{\ds}{\displaystyle}                                         % Display style
\newcommand{\st}[2]{{#1}_{\text{#2}}}                                   % math with subtext
\newcommand{\kreuz}[2]{\vec{#1} \times \vec{#2}}                        % kreuzprodukt
\newcommand{\skalar}[2]{\vec{#1} \cdot \vec{#2}}                        % skalarprodukt
\definecolor{lblue}{RGB}{51,153,255}                                    % cooler blue
\definecolor{lpurp}{RGB}{200,60,210}                                    % cooler purple

%%%%%%%%%%%%%%%%%%%%%
% Advanced commands %
%%%%%%%%%%%%%%%%%%%%%

\newcommand{\Image}[4]{
    \begin{figure}[H]
        \centering
        \includegraphics[width =#1 \textwidth]{Images/\arabic{Versuch}/#2}         % Vorsicht hier, funktioniert nur, weil meine Abbildungen im Ordner ''Images'' sind und innerhalb Images auch entsprechend nummerierte Unterordner mit der Versuchnummer
        \caption{#3}
        \label{#4}
    \end{figure}
}                       % Make a figure without the hassle of making the begin figure thing

\newcommand{\Diagramm}[4]{
    \begin{diagramm}[H]
        \centering
        \includegraphics[width =#1 \textwidth]{Images/\arabic{Versuch}/#2}         % Vorsicht hier, funktioniert nur, weil meine Abbildungen im Ordner ''Images'' sind und innerhalb Images auch entsprechend nummerierte Unterordner mit der Versuchnummer
        \caption{#3}
        \label{#4}
    \end{diagramm}
}                       % Make a figure without the hassle of making the begin figure thing

\newcommand{\res}[4][0]{
    \ifthenelse{#1=0}{(#2 \pm #3) #4}
        {(#2 \pm #3) \cdot 10^{#1} #4}
    }                   % Result

\mdfdefinestyle{formel}{
	backgroundcolor=purple!10,
	roundcorner=3pt,
	hidealllines=true,
	skipabove=10pt,
	skipbelow=0pt,
	rightmargin=-10pt
}                       % Wichtige Formel!

\newenvironment{result}
{\begin{mdframed}[style = formel]
\begin{equation}
    %
    }{
\end{equation}
\end{mdframed}
}                       % Highlight result


%%%%%%%%%%%%%%%%%%%%%%
% Elements and units %
%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\m}[1][\mathrm{}]{\mathrm{\,#1m}} 
\newcommand{\g}[1][\mathrm{}]{\mathrm{\,#1g}} 
\newcommand{\s}[1][\mathrm{}]{\mathrm{\,#1s}} 
\newcommand{\Hz}[1][\mathrm{}]{\mathrm{\,#1Hz}} 
\newcommand{\J}[1][\mathrm{}]{\mathrm{\,#1J}} 
\newcommand{\eV}[1][\mathrm{}]{\mathrm{\,#1eV}} 
\newcommand{\Newt}[1][\mathrm{}]{\mathrm{\,#1N}} 
\newcommand{\rad}[0]{\mathrm{\,rad}}
\newcommand{\barp}[1][\mathrm{}]{\mathrm{\,#1bar}} 
\newcommand{\Pa}[1][\mathrm{}]{\mathrm{\,#1Pa}} 
\newcommand{\K}[1][\mathrm{}]{\mathrm{\,#1K}} 
\renewcommand{\l}[1][\mathrm{}]{\mathrm{\,#1l}}
\newcommand{\mol}[1][\mathrm{}]{\mathrm{\,#1mol}}
\newcommand{\V}[1][\mathrm{}]{\mathrm{\,#1V}} 
\newcommand{\A}[1][\mathrm{}]{\mathrm{\,#1A}} 
\newcommand{\C}[1][\mathrm{}]{\mathrm{\,#1C}} 
\newcommand{\W}[1][\mathrm{}]{\mathrm{\,#1W}} 
\newcommand{\T}[1][\mathrm{}]{\mathrm{\,#1T}}
\renewcommand{\H}[1][\mathrm{}]{\mathrm{\,#1H}}
\newcommand{\F}[1][\mathrm{}]{\mathrm{\,#1F}}
\newcommand{\Ohm}[1][\mathrm{}]{\mathrm{\,#1}\Omega} 
\newcommand{\Celsius}[0]{\mathrm{\,$^\circ$C}}
\newcommand{\const}[0]{\mathrm{\,const.}}

\newcommand{\chem}[1]{\mathrm{#1}}



%%%%%%%%%%%%%%
% Page style %
%%%%%%%%%%%%%%

\parindent=0pt
\allowdisplaybreaks

\pagestyle{fancy}
\fancyhf{}
\lhead{\Name}                               
\rhead{\arabic{Versuch}}
\renewcommand{\headrulewidth}{1pt}
\cfoot{\thepage\ von \pageref{LastPage}}
\setlength{\headheight}{5pt}

\titleformat*{\section}{\Large\bfseries}    % Section format
\DeclareFloatingEnvironment[fileext=lop]{diagramm}  % Diagramm statt Abbildung

